<!-- <router-outlet></router-outlet> -->
<nz-layout>
  <nz-header>
    <ul nz-menu nzTheme="dark" nzMode="horizontal" [nzSelectable]="false">
      <li nz-menu-item class="logo">
        COVID-19疫情环境下低风险旅行模拟系统
      </li>
      <li nz-menu-item (click)="handleOpenModal('cityVisible')">
        修改城市信息
      </li>
      <li nz-menu-item (click)="handleOpenModal('wayVisible')">
        修改交通工具信息
      </li>
      <li nz-menu-item (click)="handleOpenModal('personVisible')">
        旅客信息
      </li>
      <li
        nz-menu-item
        (click)="electronService.openLog()"
        *ngIf="electronService.isElectron"
      >
        打开日志文件
      </li>
      <li
        nz-menu-item
        (click)="electronService.close()"
        *ngIf="electronService.isElectron"
        style="float: 'right';"
      >
        关闭系统
      </li>
    </ul>
  </nz-header>
  <nz-content>
    <div class="inner-content" id="map"></div>
  </nz-content>
  <nz-footer>Ant Design ©2020 Implement By Angular</nz-footer>
</nz-layout>

<div class="info">
  <span nz-typography
    >当前时间：{{ modelService.module ? modelService.module.time : 0 }}</span
  >
  <br />
  <span nz-typography>当前未到达乘客数：{{ get_people_number() }}</span>
</div>

<button
  nz-button
  nzType="primary"
  nzSize="large"
  nzShape="circle"
  class="model_time"
  (click)="toggleState()"
>
  <i nz-icon [nzType]="time.PAUSED ? 'caret-right' : 'pause'"></i>
</button>
<button
  nz-button
  nzType="primary"
  nzSize="large"
  nzShape="circle"
  class="model_add"
  (click)="handleOpenModal('addPersonVisible')"
>
  <i nz-icon [nzType]="'user-add'"></i>
</button>

<app-city [(isVisible)]="cityVisible" (onClose)="handleCloseModal()"></app-city>
<app-way [(isVisible)]="wayVisible" (onClose)="handleCloseModal()"></app-way>
<app-person
  [(isVisible)]="personVisible"
  (onClose)="handleCloseModal()"
></app-person>
<app-add-person
  [(isVisible)]="addPersonVisible"
  (onClose)="handleCloseModal()"
></app-add-person>
